<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui" template="/template/menuFijo.xhtml">

	<ui:define name="head">
		<h:outputStylesheet library="css" name="estilos.css" />
	</ui:define>
	<ui:define name="content">
		<h:form id="formTemario">

			<div class="card"
				style="position: fixed; top: 10px; left: 300px; width: 1200px; height: 680px; overflow-y: auto;">

				<h2 style="margin-top: 0; color: var(--card-text);">Libros</h2>

				<!-- Botón para abrir el diálogo -->
				<!-- 				rendered="#{userBean.admin}" -->
				<p:commandButton styleClass="rounded-button" value="Cargar libro"
					style="background-color:#007ad9; color:#fff; border:none; z-index:9999;"
					icon="pi pi-plus" onclick="PF('aniadirLibro').show();"
					type="button" />

				<!-- Diálogo para añadir libro -->
				<p:dialog widgetVar="aniadirLibro" header="Agregar libro"
					resizable="false" styleClass="my-container">
					<!-- 					 styleClass="crearEventoForm" -->

					<h:panelGrid columns="2" cellpadding="5">

						<p:outputLabel for="title" value="Título:" />
						<p:inputText id="title" value="#{libraryBean.newBook.title}"
							required="true" />

						<p:outputLabel for="author" value="Autor:" />
						<p:inputText id="author" value="#{libraryBean.newBook.author}" />

						<h:outputLabel value="Descripción: " />
						<h:inputTextarea id="direccion"
							value="#{libraryBean.newBook.description}" rows="5" cols="50"
							style="width:100%; height:150px;"
							placeholder="Escribe aquí tu descripción de este libro..." />

						<p:outputLabel for="coverFile" value="Portada (imagen):" />
						<p:fileUpload id="coverFile" mode="simple"
							value="#{libraryBean.newBook.coverFile}" />

						<p:outputLabel for="bookFile" value="Libro (PDF):" />
						<p:fileUpload id="bookFile" mode="simple"
							value="#{libraryBean.newBook.bookFile}" />

					</h:panelGrid>

					<p:commandButton value="Agregar" action="#{libraryBean.addBook}"
						update="bookList" oncomplete="PF('aniadirLibro').hide();" />
				</p:dialog>

				<!-- Lista de libros -->
				<p:dataList id="bookList" value="#{libraryBean.books}" var="b"
					layout="grid" columns="2">
					<p:column>
						<p:panel header="#{b.title}" style="text-align:center;">
							<h:graphicImage value="#{b.coverUrl}" width="180" height="240" />
							<h:outputText value="#{b.subtitle}" styleClass="book-subtitle" />
							<br />
							<h:outputText value="#{b.description}" styleClass="book-desc" />
							<br />

							<p:commandButton value="Descargar" icon="pi pi-download"
								onclick="window.open('#{b.bookUrl}','_blank');return false;"
								styleClass="book-btn" />
							<p:commandButton value="Ver Online" icon="pi pi-eye"
								onclick="window.open('#{b.onlineUrl}','_blank');return false;"
								styleClass="book-btn" />
						</p:panel>
					</p:column>
				</p:dataList>
			</div>
		</h:form>
	</ui:define>
</ui:composition>



<!-- <h:head> -->

<!-- 	<meta charset="UTF-8"></meta> -->
<!--	<h:tittle>Artemisa</h:tittle> -->

<!-- 	<link rel="stylesheet" -->
<!-- 		href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" /> -->

<!-- 	<link -->
<!-- 		href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" -->
<!-- 		rel="stylesheet" -->
<!-- 		integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" -->
<!-- 		crossorigin="anonymous" /> -->

<!-- 	<script -->
<!-- 		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" -->
<!-- 		integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" -->
<!-- 		crossorigin="anonymous"></script> -->

<!-- 	<link rel="stylesheet" -->
<!-- 		href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" /> -->

<!-- 	<link rel="stylesheet" href="css/estilos.css" /> -->


<!-- </h:head> -->

<!-- <h:body> -->






<!-- </h:body> -->
<!-- </html> -->
